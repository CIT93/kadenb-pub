<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Week 6 - Carbon Footprint</title>
    <script type="module" src="main.js"></script>
   <link rel="stylesheet" href="style.css">
   <style>
    .error {
        color: red;
    }
</style>
  </head>
  <body>
    <form id="form">
        
      <fieldset>
        <legend>Calculating Your Carbon Footprint Points</legend>
        <div>
          <label for="firstName">First Name:</label>
          <input type="text" id="firstname">
          <span id="firstNameError" class="error" role="alert"></span>
      </div>
      <div>
          <label for="lastName">Last Name:</label>
          <input type="text" id="lastname">
          <span id="lastNameError" class="error" role="alert"></span>
      </div>
            <label for="">Consider the size of your home:</label>
            <!-- <input type="text" name="housesize" required /> -->
            <select name="housesize" required>
              <option value="">---Please enter size of home---</option>
              <option value="apartment">Apartment</option>
              <option value="small">Small</option>
              <option value="medium">Medium</option>
              <option value="large">Large</option>

            </select>
        </div>
        <button type="submit">Submit</button>
      </fieldset>
      
    </form>
    <script>
      // Function to validate a single field
      const validateField = event => {
          const field = event.target.value;
          const fieldId = event.target.id;
          const fieldError = document.getElementById(`${fieldId}Error`);

          if (field === '') {
              fieldError.textContent = `${fieldId} is required`;
              event.target.classList.add('invalid');
          } else {
              fieldError.textContent = '';
              event.target.classList.remove('invalid');
          }
      };

      // Attach blur event listeners
      document.getElementById('firstname').addEventListener('blur', validateField);
      document.getElementById('lastname').addEventListener('blur', validateField);
      
      // Listen for form submission
      document.getElementById('form').addEventListener('submit', function (event) {
          //Prevent default behavior
          event.preventDefault();
          const firstNameIsValid = document.getElementById('firstname').value !== '';
          const lastNameIsValid = document.getElementById('lastname').value !== '';
          if (firstNameIsValid && lastNameIsValid) {
              alert('Form is valid. You can proceed with submitting the form to the server.');
          }
      })

  </script>
    <div id="output"></div>
    <div id="tab-data"></div>
    
  </body>
</html>